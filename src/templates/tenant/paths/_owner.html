<tr v-for="own in owners" :key="own.owner_uuid">
	<td>
		<a title="Détail du bailleur" type="button" @click="getOwner(own.owner_uuid)" class="badge bg-blue-soft text-blue">{ own.owner_id }</a>
	</td>
	<td>{ own.fullname } ({own.phonenumber_one})</td>
	<td>{ own.number_houses } <a v-if="own.number_houses > 1" v-bind:href="own.houses_url">(Afficher)</a></td>
	<td>{ own.number_tenants } <a v-if="own.number_tenants > 1" v-bind:href="own.tenants_url">(Afficher)</a></td>
	<td>{ own.created_at }</td>
	<td>

		<button @click="getOwner(own.owner_uuid)" class="btn btn-datatable btn-icon btn-transparent-dark shadow-none me-2">
			<i data-feather="eye"></i>
		</button>

		<button @click="updateOwnerConfirm(own)" class="btn btn-datatable btn-icon btn-transparent-dark me-2">
			<i data-feather="edit"></i>
		</button>

		<button @click="deleteOwnerConfirm(own.owner_uuid)" class="btn btn-datatable btn-icon btn-transparent-dark">
			<i data-feather="trash-2"></i>
		</button>
	</td>
</tr>

<!-- Modal de confirmation de suppression -->
<div class="modal fade" data-bs-backdrop="static" id="confirmModal">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">Confirmer la suppression</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>

			<div class="modal-body">
				Êtes-vous sûr de vouloir supprimer le bailleur ?
			</div>

			<div class="modal-footer">
				<div class="row">
					<div class="col-xl-6 d-grid">
						<button @click="ownerUUID = null; onDeleteOwner = false" class="btn btn-outline-primary text-uppercase shadow-none" type="button" data-bs-dismiss="modal">
						Annuler</button>
					</div>

					<div class="col-xl-6 d-grid">
						<button type="sumbit" @click="onDeleteOwner" class="btn btn-danger text-uppercase shadow-none">
						Oui</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- modal detail -->
<div class="modal fade" data-bs-backdrop="static" id="detailModal">
	<div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title">Bailleur: {owner.owner_id} - { owner.gender } {owner.fullname}</h4>
				<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
			</div>
			
			<div class="modal-body">
				<span v-if="owner.houses > 0" v-for="house in owner.houses" :key="house.house_uuid">                
                    { house }
                </span>
			</div>

			<div class="modal-footer">
				<button type="submit" class="btn btn-outline-primary shadow-none" data-bs-dismiss="modal">Fermer</button>
			</div>
		</div>
	</div>
</div>

<!-- Modal d'édition -->
<div class="modal fade" data-bs-backdrop="static" id="editModal">
	<div class="modal-dialog modal-xl modal-dialog-centered">
		<div class="modal-content">
			<form>
				<div class="modal-header">
					<h4 class="modal-title">
						{ updateDataOwner.owner_uuid ? 'Mise à jour des informations du' : 'Ajouter un' } propriétaire
						<span v-if="updateDataOwner.owner_id">
							: {updateDataOwner.owner_id}
						</span>
					</h4>
					<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
				</div>
				<div class="modal-body">
					<div class="row gx-3 mb-3">
						<div class="col-md-6">
							<label for="fullname" class="form-label">Nom &amp; prénoms</label>
							<input type="text" class="form-control" id="fullname" placeholder="updateDataOwner.fullname" v-model="updateDataOwner.fullname">
						</div>

						<div class="col-md-6">
							<label for="card_number" class="form-label">N° CNI/Attestion</label>
							<input type="text" class="form-control" id="card_number" placeholder="updateDataOwner.card_number" v-model="updateDataOwner.card_number">
						</div>
					</div>

					<div class="row gx-3 mb-3">
						<div class="col-md-4">
							<label for="phonenumber_one" class="form-label">Téléphone I</label>
							<input type="tel" class="form-control" id="phonenumber_one" placeholder="updateDataOwner.phonenumber_one" v-model="updateDataOwner.phonenumber_one">
						</div>
						<div class="col-md-4">
							<label for="phonenumber_two" class="form-label">Téléphone II</label>
							<input type="tel" class="form-control" id="phonenumber_two" placeholder="updateDataOwner.phonenumber_two" v-model="updateDataOwner.phonenumber_two">
						</div>

						<div class="col-md-4">
							<label for="addr_email" class="form-label">Addresse e-mail</label>
							<input type="email" class="form-control" id="addr_email" placeholder="updateDataOwner.addr_email" v-model="updateDataOwner.addr_email">
						</div>
					</div>

					<div class="mb-3">
						<label for="parent_name" class="form-label">Nom du parent</label>
						<input type="text" class="form-control" id="parent_name" placeholder="updateDataOwner.parent_name" v-model="updateDataOwner.parent_name">
					</div>

					<div class="row gx-3 mb-3">
						<div class="col-6">
							<label for="location" class="form-label">Lieu d'habitation</label>
							<input type="text" class="form-control" id="location" placeholder="updateDataOwner.location" v-model="updateDataOwner.location">
						</div>
						<div class="col-6">
							<label for="profession" class="form-label">Profession</label>
							<input type="text" class="form-control" id="profession" placeholder="updateDataOwner.profession" v-model="updateDataOwner.profession">
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="submit" class="btn btn-outline-primary shadow-none" data-bs-dismiss="modal">Annuler</button>
					<button type="button" @click="onUpdateOwner" class="btn btn-success shadow-none">Mettre à jour</button>
				</div>
			</form>
		</div>
	</div>
</div>
