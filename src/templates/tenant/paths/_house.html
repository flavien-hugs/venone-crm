<template v-for="hs in houses" :key="hs.house_uuid">
	<tr v-if="hs.user_uuid">
		<td>
			<a href="~" class="badge bg-blue-soft text-blue">{ hs.house_id }</a>
		</td>
		<td>
			{ hs.house_type } <br>
			<small>{ hs.house_address }</small>
		</td>
		<td>{ hs.house_rent.toLocaleString() } { hs.devise } <br>
			<small>{ hs.tenant }</small>
		</td>
		<td>{ hs.house_lease_start_date.toLocaleString() }</td>
		<td><span :class="{'badge': true, 'bg-warning': hs.house_is_open, 'bg-primary': !hs.house_is_open}" class="text-white text-uppercase small p-2 fw-700">{ hs.house_status }</span></td>

		<td>
			<button v-if="!hs.house_is_open" class="btn btn-datatable btn-icon btn-transparent-success me-2">
				<i class="text-success fa fa-user-plus"></i>
			</button>

			<button @click="updateHouse(hs)" class="btn btn-datatable btn-icon btn-transparent-secondary me-2">
				<i class="text-primary fa fa-edit"></i>
			</button>

			<button v-if="!hs.house_is_open" @click="deleteHouseConfirm(hs.house_uuid)" class="btn btn-datatable btn-icon btn-transparent-danger">
				<i class="text-danger fa fa-trash"></i>
			</button>
		</td>
	</tr>
</template>

<!-- updat house modal -->
<div class="modal fade" data-bs-backdrop="static" id="updateHouseConfirm">
	<div class="modal-dialog modal-xl modal-dialog-centered">
		<div class="modal-content">
			<form>
				<div class="modal-header">
					<div class="modal-title">
						Mise à jour location : { houseData.house_id }
					</div>
				</div>

				<div class="modal-body">
					<div class="row gx-3 mb-4">
			            <div class="col-4">
			                <input placeholder="Type de propriétés" type="text" class="form-control" id="house_type" v-model="houseData.house_type">
			            </div>

			            <div class="col-4">
			                <input placeholder="Loyer/mois" class="form-control" id="house_rent" v-model="houseData.house_rent">
			            </div>

			            <div class="col-4">
			                <input placeholder="Nombre de pièces" class="form-control" id="house_number_room" v-model="houseData.house_number_room">
			            </div>
			        </div>

			        <div class="row gx-3 mb-4">
			            <div class="col-4">
			                <input placeholder="Nombre de mois de caution" class="form-control" id="house_month" v-model="houseData.house_month">
			            </div>

			            <div class="col-4">
			                <input placeholder="Caution" type="text" class="form-control" id="house_guaranty" v-model="houseData.house_guaranty">
			            </div>

			            <div class="col-4">
			                <input placeholder="Situation géographique" class="form-control" id="house_address" v-model="houseData.house_address">
			            </div>
			        </div>
				</div>

				<div class="modal-footer">
					<button type="submit" class="btn btn-outline-primary shadow-none" data-bs-dismiss="modal">Annuler</button>
					<button type="button" @click="onUpdateHouse" class="btn btn-success shadow-none">Mettre à jour</button>
				</div>
			</form>
		</div>
	</div>
</div>

<!-- delete house modal -->
<div class="modal fade" data-bs-backdrop="static" id="deleteHouseModal">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">Propriété</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>

			<div class="modal-body">
				Êtes-vous sûr de vouloir supprimer cette propriété ?
			</div>

			<div class="modal-footer">
				<div class="row">
					<div class="col-6 d-grid">
						<button @click="deleteHouseUUID = null; onDeleteHouse = false" class="btn btn-outline-primary text-uppercase me-3" type="button" data-bs-dismiss="modal">Annuler</button>
					</div>

					<div class="col-6 d-grid">
						<button data-bs-dismiss="modal" @click="onDeleteHouse" type="button" class="btn btn-danger text-uppercase shadow-none">Oui</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
